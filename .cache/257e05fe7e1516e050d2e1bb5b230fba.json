{"dependencies":[{"name":"../common/common","loc":{"line":1,"column":21}}],"generated":{"js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.registerUpdateGlobalState = undefined;\n\nvar _common = require('../common/common');\n\n/**\n * A [[TransitionHookFn]] which updates global UI-Router state\n *\n * Registered using `transitionService.onBefore({}, updateGlobalState);`\n *\n * Before a [[Transition]] starts, updates the global value of \"the current transition\" ([[Globals.transition]]).\n * After a successful [[Transition]], updates the global values of \"the current state\"\n * ([[Globals.current]] and [[Globals.$current]]) and \"the current param values\" ([[Globals.params]]).\n *\n * See also the deprecated properties:\n * [[StateService.transition]], [[StateService.current]], [[StateService.params]]\n */\nvar updateGlobalState = function (trans) {\n    var globals = trans.router.globals;\n    var transitionSuccessful = function () {\n        globals.successfulTransitions.enqueue(trans);\n        globals.$current = trans.$to();\n        globals.current = globals.$current.self;\n        (0, _common.copy)(trans.params(), globals.params);\n    };\n    var clearCurrentTransition = function () {\n        // Do not clear globals.transition if a different transition has started in the meantime\n        if (globals.transition === trans) globals.transition = null;\n    };\n    trans.onSuccess({}, transitionSuccessful, { priority: 10000 });\n    trans.promise.then(clearCurrentTransition, clearCurrentTransition);\n};\nvar registerUpdateGlobalState = exports.registerUpdateGlobalState = function (transitionService) {\n    return transitionService.onCreate({}, updateGlobalState);\n};\n//# sourceMappingURL=updateGlobals.js.map","map":{"mappings":[{"generated":{"line":8,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":1,"column":0}},{"generated":{"line":10,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":2,"column":0}},{"generated":{"line":22,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":14,"column":0}},{"name":"updateGlobalState","generated":{"line":22,"column":4},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":14,"column":4}},{"generated":{"line":22,"column":24},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":14,"column":24}},{"name":"trans","generated":{"line":22,"column":34},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":14,"column":34}},{"generated":{"line":22,"column":39},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":14,"column":24}},{"generated":{"line":22,"column":41},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":14,"column":41}},{"generated":{"line":23,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":15,"column":4}},{"name":"globals","generated":{"line":23,"column":8},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":15,"column":8}},{"name":"trans","generated":{"line":23,"column":18},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":15,"column":18}},{"name":"router","generated":{"line":23,"column":24},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":15,"column":24}},{"generated":{"line":23,"column":30},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":15,"column":18}},{"name":"globals","generated":{"line":23,"column":31},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":15,"column":31}},{"generated":{"line":23,"column":38},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":15,"column":4}},{"generated":{"line":24,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":16,"column":4}},{"name":"transitionSuccessful","generated":{"line":24,"column":8},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":16,"column":8}},{"generated":{"line":24,"column":31},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":16,"column":31}},{"generated":{"line":24,"column":43},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":16,"column":43}},{"name":"globals","generated":{"line":25,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":17,"column":8}},{"name":"successfulTransitions","generated":{"line":25,"column":16},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":17,"column":16}},{"generated":{"line":25,"column":37},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":17,"column":8}},{"name":"enqueue","generated":{"line":25,"column":38},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":17,"column":38}},{"generated":{"line":25,"column":45},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":17,"column":8}},{"name":"trans","generated":{"line":25,"column":46},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":17,"column":46}},{"generated":{"line":25,"column":51},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":17,"column":8}},{"name":"globals","generated":{"line":26,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":18,"column":8}},{"name":"$current","generated":{"line":26,"column":16},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":18,"column":16}},{"generated":{"line":26,"column":24},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":18,"column":8}},{"name":"trans","generated":{"line":26,"column":27},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":18,"column":27}},{"name":"$to","generated":{"line":26,"column":33},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":18,"column":33}},{"generated":{"line":26,"column":36},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":18,"column":27}},{"generated":{"line":26,"column":38},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":18,"column":8}},{"name":"globals","generated":{"line":27,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":19,"column":8}},{"name":"current","generated":{"line":27,"column":16},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":19,"column":16}},{"generated":{"line":27,"column":23},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":19,"column":8}},{"name":"globals","generated":{"line":27,"column":26},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":19,"column":26}},{"name":"$current","generated":{"line":27,"column":34},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":19,"column":34}},{"generated":{"line":27,"column":42},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":19,"column":26}},{"name":"self","generated":{"line":27,"column":43},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":19,"column":43}},{"generated":{"line":27,"column":47},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":19,"column":8}},{"generated":{"line":28,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":20,"column":8}},{"name":"trans","generated":{"line":28,"column":26},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":20,"column":13}},{"name":"params","generated":{"line":28,"column":32},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":20,"column":19}},{"generated":{"line":28,"column":38},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":20,"column":13}},{"generated":{"line":28,"column":40},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":20,"column":8}},{"name":"globals","generated":{"line":28,"column":42},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":20,"column":29}},{"name":"params","generated":{"line":28,"column":50},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":20,"column":37}},{"generated":{"line":28,"column":56},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":20,"column":8}},{"generated":{"line":29,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":21,"column":5}},{"generated":{"line":29,"column":5},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":16,"column":4}},{"generated":{"line":30,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":22,"column":4}},{"name":"clearCurrentTransition","generated":{"line":30,"column":8},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":22,"column":8}},{"generated":{"line":30,"column":33},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":22,"column":33}},{"generated":{"line":30,"column":45},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":22,"column":45}},{"generated":{"line":31,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":23,"column":8}},{"generated":{"line":32,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":24,"column":8}},{"name":"globals","generated":{"line":32,"column":12},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":24,"column":12}},{"name":"transition","generated":{"line":32,"column":20},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":24,"column":20}},{"generated":{"line":32,"column":30},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":24,"column":12}},{"name":"trans","generated":{"line":32,"column":35},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":24,"column":35}},{"generated":{"line":32,"column":40},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":24,"column":8}},{"name":"globals","generated":{"line":32,"column":42},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":25,"column":12}},{"name":"transition","generated":{"line":32,"column":50},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":25,"column":20}},{"generated":{"line":32,"column":60},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":25,"column":12}},{"generated":{"line":32,"column":63},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":25,"column":33}},{"generated":{"line":32,"column":67},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":25,"column":12}},{"generated":{"line":33,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":26,"column":5}},{"generated":{"line":33,"column":5},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":22,"column":4}},{"name":"trans","generated":{"line":34,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":27,"column":4}},{"name":"onSuccess","generated":{"line":34,"column":10},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":27,"column":10}},{"generated":{"line":34,"column":19},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":27,"column":4}},{"generated":{"line":34,"column":20},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":27,"column":20}},{"generated":{"line":34,"column":22},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":27,"column":4}},{"name":"transitionSuccessful","generated":{"line":34,"column":24},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":27,"column":24}},{"generated":{"line":34,"column":44},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":27,"column":4}},{"generated":{"line":34,"column":46},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":27,"column":46}},{"name":"priority","generated":{"line":34,"column":48},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":27,"column":48}},{"generated":{"line":34,"column":58},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":27,"column":58}},{"generated":{"line":34,"column":63},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":27,"column":46}},{"generated":{"line":34,"column":65},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":27,"column":4}},{"name":"trans","generated":{"line":35,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":28,"column":4}},{"name":"promise","generated":{"line":35,"column":10},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":28,"column":10}},{"generated":{"line":35,"column":17},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":28,"column":4}},{"name":"then","generated":{"line":35,"column":18},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":28,"column":18}},{"generated":{"line":35,"column":22},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":28,"column":4}},{"name":"clearCurrentTransition","generated":{"line":35,"column":23},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":28,"column":23}},{"generated":{"line":35,"column":45},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":28,"column":4}},{"name":"clearCurrentTransition","generated":{"line":35,"column":47},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":28,"column":47}},{"generated":{"line":35,"column":69},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":28,"column":4}},{"generated":{"line":36,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":29,"column":1}},{"generated":{"line":36,"column":1},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":14,"column":0}},{"generated":{"line":37,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":30,"column":7}},{"name":"registerUpdateGlobalState","generated":{"line":37,"column":4},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":30,"column":11}},{"generated":{"line":37,"column":68},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":30,"column":39}},{"name":"transitionService","generated":{"line":37,"column":78},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":30,"column":49}},{"generated":{"line":37,"column":95},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":30,"column":39}},{"generated":{"line":37,"column":97},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":30,"column":68}},{"generated":{"line":38,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":31,"column":4}},{"name":"transitionService","generated":{"line":38,"column":11},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":31,"column":11}},{"name":"onCreate","generated":{"line":38,"column":29},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":31,"column":29}},{"generated":{"line":38,"column":37},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":31,"column":11}},{"generated":{"line":38,"column":38},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":31,"column":38}},{"generated":{"line":38,"column":40},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":31,"column":11}},{"name":"updateGlobalState","generated":{"line":38,"column":42},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":31,"column":42}},{"generated":{"line":38,"column":59},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":31,"column":11}},{"generated":{"line":38,"column":60},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":31,"column":4}},{"generated":{"line":39,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":32,"column":1}},{"generated":{"line":39,"column":1},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":30,"column":7}},{"generated":{"line":40,"column":0},"source":"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","original":{"line":33,"column":0}}],"sources":{"../node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js":"import { copy } from '../common/common';\n/**\n * A [[TransitionHookFn]] which updates global UI-Router state\n *\n * Registered using `transitionService.onBefore({}, updateGlobalState);`\n *\n * Before a [[Transition]] starts, updates the global value of \"the current transition\" ([[Globals.transition]]).\n * After a successful [[Transition]], updates the global values of \"the current state\"\n * ([[Globals.current]] and [[Globals.$current]]) and \"the current param values\" ([[Globals.params]]).\n *\n * See also the deprecated properties:\n * [[StateService.transition]], [[StateService.current]], [[StateService.params]]\n */\nvar updateGlobalState = function (trans) {\n    var globals = trans.router.globals;\n    var transitionSuccessful = function () {\n        globals.successfulTransitions.enqueue(trans);\n        globals.$current = trans.$to();\n        globals.current = globals.$current.self;\n        copy(trans.params(), globals.params);\n    };\n    var clearCurrentTransition = function () {\n        // Do not clear globals.transition if a different transition has started in the meantime\n        if (globals.transition === trans)\n            globals.transition = null;\n    };\n    trans.onSuccess({}, transitionSuccessful, { priority: 10000 });\n    trans.promise.then(clearCurrentTransition, clearCurrentTransition);\n};\nexport var registerUpdateGlobalState = function (transitionService) {\n    return transitionService.onCreate({}, updateGlobalState);\n};\n//# sourceMappingURL=updateGlobals.js.map"},"lineCount":null}},"hash":"99df9ea042daf61e4a5070ca6099658a","cacheData":{"env":{}}}